\definecolor{exxetagray}{gray}{0.75}
\definecolor{itemcolor}{RGB}{179,217,255}
\definecolor{usercolor}{RGB}{255,204,179}

\shorthandoff{"}
\chapter{Methodik und Konzeption}
\label{ch:methodik}
Das folgende Kapitel beschreibt das methodische Vorgehen zur Beantwortung der Forschungsfrage der vorliegenden Arbeit.
Hierfür wird zu Beginn das Kernproblem des Anwendungsfalls identifiziert und in den Gesamtkontext eingebettet.
Darauf folgt eine Beschreibung der durchgeführten quantitativen Forschung.
Abschließend wird die Konzeption des bilateralen Algorithmus beschrieben und der Aufbau des Gesamtsystems vorgestellt.

\section{Problemanalyse}
% Präferenz eines Managers für einen Mitarbeitenden wird verstanden als: Übereinstimmung der angeforderten Fähigkeiten mit den Fähigkeiten eines MA
% Präferenz eines MA für "Manager" wird verstanden als: Übereinstimmung der angeforderten Fähigkeiten mit den Präferenzen eines MA
% % Das bezeichnen wir als Kompatibilität, in anlehnung an pizzato
% In Anlehnung an \textcite[S. 207ff.]{pizzato:2010} wird die Übereinstimmung der Fähigkeiten eines Mitarbeitenden mit den angeforderten Fähigkeiten im Projekt wird nachfolgend als Fähigkeits-Kompatibilität bezeichnet.
% Analog wird die Übereinstimmung der Präferenzen eines Mitarbeitenden mit den angeforderten Fähigkeiten im Projekt als Präferenz-Kompatibilität bezeichnet.
% user ist manager -> projekt, elemente sind mitarbeitende

% Erklärung der genauen Problematik in unserem Anwendungsfall

% \subsection{Probleminterpretation}
% Nutzer = Manager, deren Anforderungen als Vektor dargestellt werden

\section{Art und Ablauf der Forschung}
Um die Forschungsfrage der vorliegenden Arbeit zu beantworten, wurde eine quantitative Forschung durchgeführt.
Die Durchführung der Forschung erfolgte in Form eines Feldexperiments in dem IT-Beratungsunternehmen EXXETA.
Die EXXETA AG verfügt über 1.000 Mitarbeitende, die maßgeblich projektbasierte Tätigkeiten ausüben.\footnote{Stand: 7. April 2023.}
Die Zuordnung passender Mitarbeitender für offene Projektpositionen ist dementsprechend entscheidend für den Erfolg des Tagesgeschäfts des Unternehmen.

Der Ablauf der Forschung kann in 3 Stufen unterteilt werden und ist nachfolgend in Abbildung \ref{fig:methodik:abb1} grafisch dargestellt.

\begin{figure}[H]
    \centering
	\includegraphics[width=0.75\textwidth]{gfx/prozess-forschung.png}
	\caption[Ablauf der Forschung]{Ablauf der Forschung}
	\label{fig:methodik:abb1}
\end{figure}

Im Rahmen der Forschung wurde im ersten Schritt das Experiment aufgesetzt, indem fünf für den Anwendungsfall repräsentative Beispielprojekte definiert wurden.
Anhand zweier Befragungen wurde anschließend die Zufriedenheit und die zu erwartende Arbeitsleistung von Mitarbeitenden in den Beispielprojekten erhoben.
Im Kontext der Auswertung des Experiments wurden zwei Algorithmen implementiert.
Repräsentativ für ein unilaterales Empfehlungssystem wurde ein unilateraler Algorithmus entwickelt, der die fünf passensten Mitarbeitenden in Abhängigkeit ihrer Fähigkeiten für Projekte vorschlägt.
Für die bilaterale Empfehlung wurde ein bilateraler Algorithmus implementiert, der die fünf passensten Mitarbeitenden in Abhängigkeit ihrer Fähigkeiten und Präferenzen empfiehlt.
Darauf basierend konnte für ein Projekt und eine Menge an Mitarbeitenden die Performance der Algorithmen hinsichtlich der Anzahl an zufriedenen Mitarbeitenden bzw. Mitarbeitenden mit zu erwartend hoher Arbeitsleistung verglichen werden.

Der Ablauf der Untersuchung wird anschließend anhand der einzelnen Stufen im Detail erläutert.

\section{Aufsetzen der Experiments}
Für das Aufsetzen des Experiments wurden zu Beginn durch einen Manager des Fachbereichs Java Enterprise Solutions fünf Beispielprojekte mit angeforderten Projektpositionen erstellt.
Nach Angaben des Managers gelten die Beispielprojekte als repräsentativ für häufige Kundenanfragen an den Bereich.
Die Projekte sind in Abbildung \ref{fig:methodik:abb2} dargestellt.

% \begin{table}[htbp]
%     \begin{center}
%     \begin{tabular}{c|c}
%     {\textbf{Fähigkeit}} & {\textbf{Anforderungsniveau}}\\
%     \hline
%     Android & Fortgeschritten \\
%     \hline
% 	Architektur & Fortgeschritten \\
%     \hline
%     Kotlin & Fortgeschritten \\
%     \hline
% 	Mockito & Grundkenntnisse \\
%     \hline
% 	JSON & Grundkenntnisse \\
%     \hline
% 	REST & Grundkenntnisse \\
%     \end{tabular}
%     \end{center}
%     \caption[Beispielprojekte]{Beispielprojekte}
% 	\label{tab:methodik:tab1}
% \end{table}

\begin{figure}[H]
    \centering
    \subfloat[Projekt 1]{\includegraphics[width=0.5\textwidth]{gfx/projekt-1.png}\label{fig:methodik:abb2:1}}
    \subfloat[Projekt 2]{\includegraphics[width=0.5\textwidth]{gfx/projekt-2.png}\label{fig:methodik:abb2:2}}\\
    \subfloat[Projekt 3]{\includegraphics[width=0.5\textwidth]{gfx/projekt-3.png}\label{fig:methodik:abb2:3}}
    \subfloat[Projekt 4]{\includegraphics[width=0.5\textwidth]{gfx/projekt-4.png}\label{fig:methodik:abb2:4}}\\
    \subfloat[Projekt 5]{\includegraphics[width=0.5\textwidth]{gfx/projekt-5.png}\label{fig:methodik:abb2:5}}\\
\caption[Beispielprojekte des Experiments]{Beispielprojekte des Experiments}
  \label{fig:methodik:abb2}
\end{figure}

Für jede Fähigkeit eines Projekts ist ein angefordertes Niveau angegeben, welches in dem Projekt gefragt ist.
Tabelle \ref{tab:methodik:tab1} stellt eine Beschreibung der Kenntnisse dar, die von den Fähigkeiten eines Mitarbeitenden entsprechend des angeforderten Niveaus erwartet wurden.

\begin{table}[htbp]
    \begin{center}
    \begin{tabular}{p{1.5in}|p{3.25in}}
    {\textbf{Anforderungsniveau}} & {\textbf{Beschreibung}}\\
    \hline
	Grundkenntnisse & Kenntnisse entsprechen mindestens einer der Stufen "Ich habe Grundkenntnisse", "Ich habe es schon in einem Projekt eingesetzt" oder "Ich habe es in einem Projekt eingeführt" \\
    \hline
    Fortgeschritten & Kenntnisse entsprechen mindestens einer der Stufen "Ich habe Kollegen geholfen es einzusetzen", "Ich habe eine Schulung zu dem Thema gehalten" oder "Ich habe auf Konferenzen zu dem Thema Vorträge gehalten" \\
    \end{tabular}
    \end{center}
    \caption[Beschreibung des Kenntnisstands eines Mitarbeitenden je Anforderungsniveau]{Beschreibung des Kenntnisstands eines Mitarbeitenden je Anforderungsniveau}
	\label{tab:methodik:tab1}
\end{table}

\section{Datenerhebung}
In der zweiten Stufe wurden die benötigten Daten erhoben.
Die Erhebung der Daten erfolgte anhand von zwei separaten Befragungen.
Die erste Befragung wurde unter den Mitarbeitenden des Unternehmens durchgeführt.
Die zweite Befragung erfolgte unter den Managern des Unternehmens.
Die Befragungen wurden unabhängig von dem entwickelten Algorithmus gestaltet.
Dadurch ist eine Reproduzierbarkeit der Ergebnisse und deren Vergleichbarkeit mit Ergebnissen alternativer Algorithmen möglich.

\subsection{Befragung der Mitarbeitenden}
Die Befragung unter den Mitarbeitenden hatte zwei Erkenntnisse zum Ziel.
Zum einen sollte die Umfrage Auskunft über die Fähigkeiten und Präferenzen eines befragten Mitarbeitenden liefern.
Zum anderen sollte über die Umfrage die Zufriedenheit eines Mitarbeitenden mit den jeweiligen Beispielprojekten aus Tabelle \ref{fig:methodik:abb2} erhoben werden.

Für die Erhebung der Fähigkeiten wurden die Mitarbeitenden in der Umfrage gebeten, ihr Kenntnisniveau für jede der insgesamt 31 unterschiedlichen Fähigkeiten der Beispielprojekte anzugeben.
Zur Einordnung der Fähigkeiten wurde eine dreistufige Likert-Skala gewählt, anhand derer die Mitarbeitenden ihr Kenntnisniveau angeben sollten.
Die Likert-Skala umfasste die Optionen "Keine Kenntnisse", "Grundkenntnisse" und "Fortgeschritten".
Die Optionen "Grundkenntnisse" und "Fortgeschritten" der Skala wurden entsprechend der Skala des Anforderungsniveaus der Fähigkeiten der Beispielprojekte gewählt (Vgl. Tabelle \ref{tab:methodik:tab1}).
Zusätzlich zu den Kenntnisniveaus "Grundkenntnisse" und "Fortgeschritten" konnten die Mitarbeitenden darüber hinaus über die Option "Keine Kenntnisse" angeben, wenn sie eine Fähigkeit nicht beherrschten.
Abbildung \ref{fig:methodik:abb3} stellt einen Auszug aus der Umfrage zur Erhebung der Fähigkeiten eines Mitarbeitenden dar.

\begin{figure}[H]
    \centering
	\includegraphics[width=1\textwidth]{gfx/befragung-faehigkeiten.png}
	\caption[Auszug aus der Befragung der Mitarbeitenden zu ihren Fähigkeiten]{Auszug aus der Befragung der Mitarbeitenden zu ihren Fähigkeiten}
	\label{fig:methodik:abb3}
\end{figure}

Für die Erhebung der Präferenzen sollten die Mitarbeitenden darüber hinaus für jede der Fähigkeiten angeben, ob Interesse besteht diese in zukünftigen Projekten anzuwenden.
Hierfür wurden die Mitarbeitenden aufgefordert ihr Interesse auf einer dreistufigen Likert-Skala mit den Optionen "Möchte ich anwenden", "Möchte ich nicht anwenden" und "Neutral" einzuordnen.
Eine Beschreibung der Bedeutung der Einordnung des Interesses eines Mitarbeitenden für eine Fähigkeit anhand der Skala ist in Tabelle \ref{tab:methodik:tab2} dargestellt.

\begin{table}[htbp]
    \begin{center}
    \begin{tabular}{p{1.5in}|p{3.25in}}
    {\textbf{Präferenzangabe}} & {\textbf{Bedeutung}}\\
    \hline
	Möchte ich anwenden & Bei dem Mitarbeitenden besteht Interesse die ausgewählte Fähigkeit in zukünftigen Projekten (weiter) anzuwenden \\
    \hline
    Möchte ich nicht anwenden & Der Mitarbeitende möchte die Fähigkeit in zukünftigen Projekten (vorerst) nicht anwenden \\
    \hline
    Neutral & Der Mitarbeitende steht der Option die ausgewählte Fähigkeit in zukünftigen Projekten anzuwenden neutral gegenüber \\
    \end{tabular}
    \end{center}
    \caption[Bedeutung der unterschiedlichen Ausprägungen der Likert-Skala für die Präferenzangabe]{Bedeutung der unterschiedlichen Ausprägungen der Likert-Skala für die Präferenzangabe}
	\label{tab:methodik:tab2}
\end{table}

Die Skala wurde so gewählt, dass für Mitarbeitende neben präferierten Fähigkeiten auch deren negative Präferenzen erhoben werden konnten, sowie die Fähigkeiten, denen sie indifferent gegenüberstanden.
In Abbildung \ref{fig:methodik:abb4} ist einen Auszug aus der Umfrage zur Erhebung der Präferenzen eines Mitarbeitenden abgebildet.

\begin{figure}[H]
    \centering
	\includegraphics[width=1\textwidth]{gfx/befragung-praeferenzen.png}
	\caption[Auszug aus der Befragung der Mitarbeitenden zu ihren Präferenzen]{Auszug aus der Befragung der Mitarbeitenden zu ihren Präferenzen}
	\label{fig:methodik:abb4}
\end{figure}

Abschließend wurden die Mitarbeitenden bezüglich ihrer Zufriedenheit mit den fünf Beispielprojekten befragt.
Hierfür wurden die Mitarbeitenden aufgefordert ihre Zufriedenheit mit jedem Beispielprojekt entlang einer vierstufigen ordinalen Skala anzugeben, wobei die niedrigste Angabe 1 für "Gar nicht zufrieden" und die höchste Angabe 4 für "Voll und Ganz zufrieden" stand.
Die Skala wurde bewusst so gewählt, dass die Mitarbeitenden keine neutrale Bewertung bezüglich ihrer Zufriedenheit abgeben konnten.
Ein Auszug der Befragung der Mitarbeitenden zu ihrer Zufriedenheit ist beispielhaft für Projekt 1 in Abbildung \ref{fig:methodik:abb5} illustriert.

\begin{figure}[H]
    \centering
	\includegraphics[width=1\textwidth]{gfx/befragung-zufriedenheit.png}
	\caption[Auszug aus der Befragung der Mitarbeitenden zu ihrer Zufriedenheit mit Projekt 1]{Auszug aus der Befragung der Mitarbeitenden zu ihrer Zufriedenheit mit Projekt 1}
	\label{fig:methodik:abb5}
\end{figure}

% 1. Mitarbeiter befragen nach Selbsteintschätzung der Fähigkeiten in Anlehnung an Intranet (da im Intranet nur z.T. vollständig), sowie Präferenzen (pos. und neg.)

\subsection{Befragung der Manager}
Die zweite Umfrage erfolgte unter Managern des Unternehmens und galt der Ermittlung der zu erwarteten Arbeitsleistung der Mitarbeitenden in den jeweiligen Beispielprojekten.

Für die Erhebung wurden die Befragten aufgefordert für jedes der Beispielprojekte die Mitarbeitenden auszuwählen, von denen sie eine hohe Arbeitsleistung erwarten würden.
Auswählen konnten die Manager aus einer Liste an Mitarbeitenden, die zuvor an der Befragung der Mitarbeitenden teilgenommen hatten.
Zu jedem Mitarbeitenden wurde den Managern als Information deren Namen, Fähigkeitsbewertung und Präferenzen zur Verfügung gestellt.
Die erhobenen Daten der Mitarbeitendenbefragung zu Fähigkeiten und Präferenzen wurden folglich als Input für die Befragung der Projektmanager verwendet, weshalb die Befragungen zeitlich versetzt voneinander stattfanden.

Für Auswahl der Mitarbeitenden mit zu erwartend hoher Arbeitsleistung wurde eine Mehrfachauswahl gewählt.
Dies sollte sicherstellen, dass als Ergebnis der Managerbefragung für jeden Mitarbeitenden ein boolescher Wert vorlag, der eindeutig bestimmt, ob eine hohe Arbeitsleistung von einem Mitarbeitenden erwartet wird oder nicht.
Abbildung \ref{fig:methodik:abb6} zeigt einen Auszug aus der Managerbefragung zu der erwarteten Arbeitsleistung der Mitarbeitenden seitens der Manager am Beispiel von Projekt 4.
Aus Datenschutzgründen wurden die Mitarbeitenden in der Abbildung pseudonymisiert.

\begin{figure}[H]
    \centering
	\includegraphics[width=1\textwidth]{gfx/befragung-arbeitsleistung.png}
	\caption[Auszug aus der Befragung der Manager zu der erwarteten Arbeitsleistung von Mitarbeitenden in Projekt 4]{Auszug aus der Befragung der Manager zu der erwarteten Arbeitsleistung von Mitarbeitenden in Projekt 4}
	\label{fig:methodik:abb6}
\end{figure}

In Abbildung \ref{fig:methodik:abb7} ist beispielhaft ein Auszug der zugehörigen Auswahlliste an Mitarbeitenden dargestellt, die einem Manager in Abhängigkeit der angeforderten Fähigkeiten je Projekt zur Verfügung gestellt wurden.

\begin{figure}[H]
    \centering
	\includegraphics[width=1\textwidth]{gfx/befragung-arbeitsleistung-liste-ma.png}
	\caption[Auszug aus der Auswahlliste an Mitarbeitenden für die Manager am Beispiel von Projekt 4]{Auszug aus der Auswahlliste an Mitarbeitenden für die Manager am Beispiel von Projekt 4}
	\label{fig:methodik:abb7}
\end{figure}

\section{Auswertung des Experiments}
In der dritten Stufe erfolgte die Auswertung des Feldexperiments.
In dem Kontext wurde ein bilateraler Algorithmus für die Zuordnung von passenden Mitarbeitenden zu Projektpositionen konzipiert und implementiert.
Als Benchmark wurde anhand derselben Vorgehensweise ein unilateraler Algorithmus für die Zuordnung von passenden Mitarbeitenden zu Projektpositionen aufgesetzt.
Die beiden Algorithmen unterscheiden sich lediglich in den Kriterien, die für die Zuordnung herangezogen werden.
So erfolgt die Zuordnung über den unilateralen Algorithmus anhand der Fähigkeiten, während die bilaterale Zuordnung neben den Fähigkeiten auch die Präferenzen eines Mitarbeitenden miteinbezieht.
Die beiden Algorithmen wurden in einen Microservice eingebettet, welcher nachfolgend als Empfehlungsservice bezeichnet wird.

\subsection{Aufbau des Empfehlungsservice}
Der Empfehlungsservice stellt eine POST-Schnittstelle zur Verfügung, über die Manager für offene Projektpositionen passende Mitarbeitende vorgeschlagen bekommen können.
Der Dienst wurde in der Programmiersprache Python implementiert, wobei für das Erstellen der Webanwendung das Framework Flask verwendet wurde.
% Die Berechnungen wurden unter Anwendung der Bibliothek Numpy entwickelt.
Der Service wird als Docker-Container bereitgestellt.
Abbildung \ref{fig:methodik:abb8} zeigt eine vereinfachte Darstellung des Dienstes.

\begin{figure}[H]
    \centering
	\includegraphics[width=1.0\textwidth]{gfx/empfehlungsservice.png}
	\caption[Aufbau des Empfehlungsservice]{Aufbau des Empfehlungsservice}
	\label{fig:methodik:abb8}
\end{figure}

Wie der Abbildung entnommen werden kann, akzeptiert der Dienst Anfragen, die im Body die angefragte Projektposition sowie die zur Verfügung stehenden Mitarbeitenden enthalten.
Diese Daten werden in Form eines JSON-Arrays an den Service übermittelt.
In Listing \ref{lst:methodik:lst1} ist eine solche Anfrage beispielhaft abgebildet.

\lstinputlisting[
    language=json,
    caption=Beispiel einer Anfrage an den Empfehlungsservice,
    captionpos=b,
    label=lst:methodik:lst1
    ]{gfx/request-body.json}

Eine Projektposition wird in Form einer Liste an angeforderten Fähigkeiten (\textit{skills}) dargestellt.
Jede angeforderte Fähigkeit kann über einen Namen und ein zugehöriges Anforderungsniveau (\textit{level}) beschrieben werden.
Das Anforderungsniveau ist als Integer codiert, wobei eine 1 dem Anforderungsniveau "Grundkenntnisse" und eine 2 dem Anforderungsniveau "Fortgeschritten" entspricht.
Die zur Verfügung stehenden Mitarbeitenden werden als Liste dargestellt.
Ein Mitarbeitender wird eindeutig über seine Mailadresse identifiziert und verfügt über eine Liste an Fähigkeiten (\textit{skills}) mit zugehörigem Kenntnisniveau (\textit{level}) und eine Liste an Präferenzen (\textit{preferences}) mit zugehörigem Präferenzniveau (\textit{level}).
Die Ausprägungen "Grundkenntnisse" und "Fortgeschritten" des Kenntnisniveaus sind analog zum Anforderungsniveau kodiert.
Zusätzlich ist das Kenntnisniveau "Keine Kenntnisse" als Zahl 0 kodiert.
Die Präferenzangabe ist ebenfalls als Integer kodiert, wobei "Möchte ich anwenden" einer 1, "Möchte ich nicht anwenden" einer -1 und "Neutral" einer 0 entspricht.


Als Ergebnis produziert der Service zwei Listen: eine Liste mit empfohlenen Mitarbeitenden basierend auf dem bilateralen Algorithmus und eine Liste mit empfohlenen Mitarbeitenden durch den unilateralen Algorithmus.
Beide Listen sind absteigend sortiert und stellen ein Ranking der Mitarbeitenden dar.
Die Liste des bilateralen Algorithmus sortiert die Angestellten anhand ihres bilateralen Kompatibilitätswertes, während der unilaterale Algorithmus die Mitarbeitenden anhand ihres unilateralen Kompatibilitätswertes sortiert.
Beide Listen schickt der Service in einer Antwort an den Client zurück.
Hierbei wird jeder Mitarbeitender einerste durch seine Mailadresse und seinen Kompatibilitätswert (\textit{matchValue}) abgebildet.
In Listing \ref{lst:methodik:lst2} ist beispielhaft die Rückgabe des Empfehlungsservice für die Anfrage aus Listing \ref{lst:methodik:lst1} dargestellt.

\lstinputlisting[
    language=json,
    caption=Beispiel einer Antwort des Empfehlungsservice,
    captionpos=b,
    label=lst:methodik:lst2
    ]{gfx/response-body.json}

Für die Ermittlung der uni- und bilateralen Kompatibilitätswerte wurden zwei Algorithmen implementiert, welche nachfolgend vorgestellt werden.
% Die erste Liste stellt eine sortierte Liste der Mitarbeitenden dar, die anhand des bilateralen Algorithmus ermittelt wurden.
% Dieses sollte in der Lage sein, aus einer Menge an zu Verfügung stehenden Mitarbeitenden die fünf passensten Mitarbeitenden anhand eines unilateralen und anhand eines bilateralen Algorithmus zu empfehlen.

% Aufteilen der Daten in Trainings- und Testdaten
% Nutzen der Trainingsdaten, um Gewichte des bilateralen Algorithmus zu lernen
% Vergleich des entwickelten bilateralen Algorithmus mit einer unilateralen Variante anhand der Testdaten

\subsection{Gestaltung des bilateralen Algorithmus}
Die Logik des bilateralen Algorithmus wurde in zwei Kernfunktionalitäten aufgeteilt.
Der erste Teil umfasst das Matching zwischen der angeforderten Projektposition und den einzelnen Mitarbeitenden.
Der zweite Teil beinhaltet das Sortieren der Mitarbeitenden anhand ihres Matchingwerts (siehe Abbildung \ref{fig:methodik:abb8}).

Im Matching-Teil des Algorithmus wird für jeden Mitarbeitenden ermittelt, wie sehr dessen Fähigkeiten und dessen Präferenzen mit den angeforderten Fähigkeiten im Projekt übereinstimmen.
Hierfür ermittelt der Algorithmus in Anlehnung an \textcite[S. 207ff.]{pizzato:2010} zwei separate Kompatibilitätswerte.
Für die Berechnung der Präferenz-Kompatibilität wurde nach dem Verfahren von \textcite[S. 269ff.]{pizzato:2:inproceedings} für die Kombination positiver und negativer Präferenzen vorgegangen, welches in Kapitel \ref{ch:verwandte_arbeiten:1} vorgestellt wurde.
Demnach kann die Präferenz-Kompatibilität $C_{Pref}^{\pm}(c,s)$ eines Mitarbeitenden $s$ mit einer angeforderten Projektposition $c$ wie folgt ermittelt werden:
\begin{equation}\label{methodik:eq:1}
    C_{Pref}^{\pm}(c,s)=\frac{1+C_{Pref}^{+}(c,s)-C_{Pref}^{-}(c,s)}{2}
\end{equation}
Die positive Präferenz-Kompatibilität $C_{Pref}^{+}(c,s)$ eines Mitarbeiters mit einem Projekt ermittelt der Algorithmus, indem die Anzahl der angeforderten Fähigkeiten, die ein Mitarbeiter präferiert durch die Gesamtzahl an angefragten Fähigkeiten geteilt wird:
\begin{equation}\label{methodik:eq:2}
    C_{Pref}^{+}(c,s)=\frac{\sum\limits_{i \in F_{c}} \mathbb{1}_{i \in P_{s}}}{|F_{c}|}
\end{equation}
In Gleichung \ref{methodik:eq:2} stellt $F_{c}$ die Menge an angeforderten Fähigkeiten einer Projektposition dar, während $P_{s}$ die Menge an Fähigkeiten repräsentiert, die ein Mitarbeitender präferiert.

Die Kalkulation der negativen Präferenz-Kompatibilität $C_{Pref}^{-}(c,s)$ erfolgt analog zu Gleichung \ref{methodik:eq:2}, indem die Anzahl an Fähigkeiten, die ein Mitarbeiter nicht anwenden möchte durch die Gesamtzahl an angefragten Fähigkeiten geteilt wird.
Da Fähigkeiten, denen ein Mitarbeitender neutral gegenübersteht, weder zu einem höheren noch zu einem niedrigeren Rang eines Mitarbeitenden im Ranking führen sollen, werden diese bei der Kalkulation der Präferenz-Kompatibilität nicht berücksichtigt.

Für die Anfrage in Listing \ref{lst:methodik:lst1} ergibt sich die Präferenzkompatibilität des Mitarbeiters 1 wie folgt:
\begin{equation}\label{methodik:eq:4}
    C_{Pref}^{\pm}(c,s) = \frac{1+\frac{1}{1}-\frac{0}{1}}{2} = 1
\end{equation}

Für die Berechnung der Fähigkeits-Kompatibilität verwendet der Algorithmus eine abgewandelte Version des Verfahrens von \textcite[S. 269ff.]{pizzato:2:inproceedings} zur Berechnung der Präferenz-Kompatibilität.
Dabei ermittelt der Algorithmus für jede angeforderte Fähigkeit deren anteilige Erfüllung durch die Kenntnisse eines Mitarbeiters.
Diese wird berechnet, indem je Fähigkeit das Kenntnisniveau eines Mitarbeiters durch das Anforderungsniveau einer angeforderten Fähigkeit dividiert wird.
Die Summe der anteiligen Fähigkeiten wird anschließend durch die Anzahl an angeforderten Fähigkeiten geteilt.
Dadurch ergibt sich für die Kalkulation der Fähigkeits-Kompatibilität des Algorithmus folgende Formel:
\begin{equation}\label{methodik:eq:3}
    C_{Skills}(c,s)=\frac{1}{|F_{c}|} \cdot \sum\limits_{i \in F_{c}} \mathbb{1}_{i \in F_{s}} \frac{level(i \in F_{s})}{level(i \in F_{c})}
\end{equation}
In Gleichung \ref{methodik:eq:3} stellt $F_{s}$ die Menge an Fähigkeiten dar, die ein Mitarbeitender beherrscht (Kenntnisniveaus "Grundkenntnisse" und "Fortgeschritten").
Der Ausdruck $level(i \in F_{s})$ gibt den Wert des Kenntnisniveaus einer beherrschten Fähigkeit eines Mitarbeitenden an.
Analog bezeichnet $level(i \in F_{c})$ den Wert des Anforderungsniveaus einer angeforderten Fähigkeit in einem Projekts.

Da Fähigkeiten auf unterschiedlichem Level beherrscht werden können, musste bei der Konzeption entschieden werden, wie mit einer Überqualifikation eines Mitarbeitenden in einer Fähigkeit verfahren wird.
Eine Überqualifikation eines Mitarbeiters (d.h. $level(i \in F_{s}) > level(i \in F_{c})$) bewertet der Algorithmus gleich, wie die exakte Erfüllung einer Fähigkeit.
Wird eine Fähigkeit auf dem Niveau Grundkenntnisse ($\widehat{=} 1$) angefordert ist es folglich  
% hier beispiel einfügen für skill kompatibilitätsrechnung

im ersten Schritt identifiziert, welche Eingangsdaten der Algorithmus erhält und welche Ausgangsdaten erwartet werden.
Wie aus Listing \ref{lst:methodik:lst1} hervorgeht, liegen die Projektpositionen in Form einer Liste an Fähigkeiten vor.

Für die Gestalung des Algorithmus wurden die im Rahmen der Befragungen erhobenen Daten in Trainings- und Testdaten unterteilt.

\subsubsection{Aggregation}
% Beispielrechnung in Anhang?
% Begründung Auswahl der Kombination der Präferernzen
% Kein harmonisches Mittel, da teilen durch 0 nicht möglich. Da aber MA durchaus fähigkeiten nicht besitzen kommt das häufig vor (man könnte als abhilfe einen Default von 0,000001 setzen o.ä.)
% Berücksichtigung negativer Präferenzen in Anlehnung an: S. 231, file://wsl%24/Ubuntu/home/masc6/Projects/masterarbeit/literatur/recsys%202022%20modeling%20two%20way%20selection%20preference%20for%20person%20job%20fit.pdf

\subsubsection{Gewichtung}
% Ermitteln der Gewichte: alpha so wählen, dass Endergebnis möglichst optimal -> bedeutet für uns: zufriedene und leistungsfähige Mitarbeiter werden empfohlen -> erscheinen oben im Ranking
% Ziel: Gegeben einer Funktion f, welches von ein oder mehreren Input-Variablen abhängt, finden der Ausprägungen der Input-Variablen, für die f minimal wird. Obacht: f umfasst hier mehr als nur rws, da auch das ranking danach miteinbezogen wird -> zu minimieren ist die Summe der Ränge der zufriedenen und Leistungsfähigen MA über alle Projekte hinweg
% Hier: mithilfe des Brent Algorithmus in anlehnung an die verwandte Arbeit von \textcite[S. 131ff.]{kleinerman:2:inproceedings}
% Nach https://e-maxx.ru/bookz/files/numerical_recipes.pdf S. 489 gibt es keinen perfekten Optimierungs-Algorithmus -> daher ist es grundsätzlih ratsam, verschiedene Techniken auszuprobieren und zu vergleichen.
% Was macht der Brent Algorithmus?: % https://users.wpi.edu/~walker/MA3257/HANDOUTS/brents_algm.pdf

% \begin{itemize}
% 	\item In Essenz einfach eine Strategie für das Finden von lokalen Minima ohne Ableitung, indem sich von einem Intervall iterativ an ein Minima angenähert wird, entweder über GSS oder über SPI % file://wsl%24/Ubuntu/home/masc6/Projects/masterarbeit/literatur/Minimization%20or%20Maximization%20of%20Functions.pdf
% 	\item Unterscheiden zw. Brent Methode für root search und Brent-Methode für Minimasuche ohne Derivate (Ableitung)
% 	\item Kombination von successive parabolic interpolation (schnell) und golden-section search (garantiertes finden von Minimum) % für Erklärung siehe video hier: https://www.youtube.com/watch?v=BQm7uTYC0sg
% \end{itemize}

% Lösung über Python Skript unter Einsatz der scipy-Bibliothek (siehe Anhang).
% minimize_scalar function für das Finden von Minima einer skalaren Funktion (output eines einzelnen Wertes) mit einer Variablen (in unserem Fall alpha), deren default Methode brent ist
% Angeben eines Intervalls (hier: zwischen 0 und 1)
% Beschreibung des Algorithmus in anlehung an file://wsl%24/Ubuntu/home/masc6/Projects/masterarbeit/literatur/Minimization%20or%20Maximization%20of%20Functions.pdf ggf. in den Anhang?

% \section{Aufbau des Empfehlungssystems}
% Microservice-Architektur -> Empfehlungs-komponente (Rankings)



% Begründung für SVR: S: 30, file://wsl%24/Ubuntu/home/masc6/Projects/masterarbeit/literatur/Criteria%20Chains%20A%20Novel%20Multi-Criteria%20Recommendation.pdf

\subsection{Ablauf der Evaluation}

\shorthandon{"}